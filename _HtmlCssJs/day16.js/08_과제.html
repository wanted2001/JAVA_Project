<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 구구단 문제 -->
    <h1>
        <button type="button" id="startbtn">문제 출제</button>
    </h1>
    <ol id="q">

    </ol>
    <h1>
        <button type="button" id="comparebtn">정답확인</button>
    </h1>
    <h3 id="printRatio"></h3>
    <script>
        const ansObj = {};
        let ol = document.getElementById('q');
        let h3 = document.getElementById('printRatio');
        let count = 0;
        let incre = '';
        let decre = '';
        //반복문
        document.getElementById('startbtn').addEventListener('click', () => {
            ol.innerHTML = '';
            count = 0;
            h3.innerHTML = '';
            for (let i = 1; i <= 10; i++) {
                incre = Math.floor(Math.random() * 9) + 1;
                decre = Math.floor(Math.random() * 9) + 1;
                ol.innerHTML += `<li>${incre}*${decre} <input type="text" id=jung${i}>`;
                ansObj[`ans${i}`] = incre * decre;
                ol.innerHTML += `</li>`;
            }
            console.log(ansObj);
        })
        document.getElementById('comparebtn').addEventListener('click', () => {

            for (let i = 1; i <= 10; i++) {
                let qu = document.getElementById(`jung${i}`).value;
                let re = document.getElementById(`jung${i}`);
                console.log(qu);
                if (qu == ansObj[`ans${i}`]) {
                    console.log(re);
                    re.value=`${ansObj[`ans${i}`]} 정답`;
                    re.style.backgroundColor ='green';
                    count++;
                } else {
                    re.value=`${ansObj[`ans${i}`]} 오답`;
                    re.style.backgroundColor ='red';
                }
            }
            h3.innerHTML = `정답 : ${count}개 / 합격률 : ${(count / 10) * 100}%`;
        })
    </script>
</body>

</html>